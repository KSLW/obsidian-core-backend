
var Transform = require('readable-stream').Transform

module.exports = Lookup
util.inherits(Lookup, Transform)

function Lookup (opts) {
  Transform.call(this, { objectMode: true })
  this._lookup = opts.lookup
}

Lookup.prototype._transform = function (addr, enc, cb) {
  this._lookup(addr)
    .catch(cb)
    .then(function (result) {
      cb(null, result)
    })
    .done()
}
