
var crypto = require('crypto')
var typeforce = require('typeforce')
var Permission = require('tradle-permission')
var common = require('../common')

module.exports = function share (options) {
  typeforce({
    keeper: 'Object',
    networkName: 'String',
    infoHash: 'Buffer',
    symmetricKey: '?Buffer',
    recipient: 'String'
  }, options)

  var recipient = common.toPubKey(options.recipient)
  var permission = new Permission(options.infoHash, options.symmetricKey || crypto.randomBytes(32))
  var encKey = utils.sharedEncryptionKey(this.wallet.priv, this.recipientPubKey)

}
